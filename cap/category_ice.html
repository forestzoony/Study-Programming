<!DOCTYPE html>
<html>
<head>
<script type="text/javascript" src="https://openapi.map.naver.com/openapi/v3/maps.js?ncpClientId=c3xl3fv80u"></script>
<script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>
<meta charset="utf-8">
<title>아이스크림 및 빙수 카페</title>
</head>
<body>
<!-- 네이버 지도가 뿌려질 곳 !  -->
<div id="map" style="width:70%;height:75vh; align-items: center; margin-left: 200px;"></div>
</body>

<script type="text/javascript">

$(function() {
	
	initMap();
	
});


function initMap() { 
	
	var areaArr = new Array();  // 지역을 담는 배열 ( 지역명/위도경도 )
	areaArr.push(
			/*지역구 이름*/			/*위도*/					/*경도*/				
        /* 관악구의 아이스크림류 카페 GPS*/
		 {location : '설빙' , lat : '37.4750810' , lng : '126.9813500'},  // 설빙 사당역점
		 {location : '설빙' , lat : '37.4789168' , lng : '126.9526209'},  // 설빙 서울대입구역점
         {location : '설빙' , lat : '37.4838429' , lng : '126.9282875'},  // 설빙 신림점
		 {location : '베스킨라빈스' , lat : '37.4823600' , lng : '126.9530313'},  // 베스킨라빈스 서울대입구역점
         {location : '베스킨라빈스' , lat : '37.4795420' , lng : '126.9522150'},  // 베스킨라빈스 관악구청점
         {location : '베스킨라빈스' , lat : '37.4869590' , lng : '126.9478360'},  // 베스킨라빈스 봉천현대점
         {location : '베스킨라빈스' , lat : '37.4863600' , lng : '126.9384803'},  // 베스킨라빈스 관악은천점
         {location : '베스킨라빈스' , lat : '37.4821990' , lng : '126.9418700'},  // 베스킨라빈스 봉천역점
         {location : '베스킨라빈스' , lat : '37.4838598' , lng : '126.9302425'},  // 베스킨라빈스 신림타임스트림점
         {location : '베스킨라빈스' , lat : '37.4853815' , lng : '126.9136775'},  // 베스킨라빈스 신대방역점
         {location : '베스킨라빈스' , lat : '37.4900031' , lng : '126.9266770'},  // 베스킨라빈스 보라매타운점
         {location : '베스킨라빈스' , lat : '37.4821400' , lng : '126.9296200'},  // 베스킨라빈스 신림점
         {location : '빙달' , lat : '37.4791600' , lng : '126.9428560'},  // 빙달 관악점
         {location : '아궁이빙수' , lat : '37.4789607' , lng : '126.9539987'},  // 아궁이빙수
         {location : '꿀과빙' , lat : '37.4813966' , lng : '126.9457390'},  // 꿀과빙&커피
         {location : '샤르르' , lat : '37.4806754' , lng : '126.9464823'},  // 샤르르 우유빙수 신림점
         {location : '가온길' , lat : '37.4798270' , lng : '126.9577110'},  // 가온길 서울대입구역점
         {location : '오늘도빙수' , lat : '37.4833100' , lng : '126.9291100'},  // 오늘도빙수 신림점
         {location : '별빙수' , lat : '37.4874191' , lng : '126.9332281'},  // 금커피별빙수 봉천점
         {location : '빙수고고' , lat : '37.4855646' , lng : '126.9172150'},  // 빙수고고 신림본점
         {location : '눈꽃빙수' , lat : '37.4843959' , lng : '126.9169400'},  // LA커피 & 눈꽃빙수
         {location : '샤빙' , lat : '37.4806650' , lng : '126.9041500'},  // 샤빙 관악점

		 {location : '설빙' , lat : '37.4749800' , lng : '126.8679300'},  // 설빙 경기광명철산점
		 {location : '설빙' , lat : '37.4484820' , lng : '126.8840200'},  // 설빙 경기광명소하점
		 {location : '설빙' , lat : '37.4163636' , lng : '126.8848772'},  // 설빙 KTX광명역사점
		 {location : '설빙' , lat : '37.4541060' , lng : '126.9003549'},  // 설빙 시흥사거리점
		 {location : '설빙' , lat : '37.4952700' , lng : '126.8435720'},  // 설빙 오류동역사점

		 {location : '고고쓰' , lat : '36.7737312' , lng : '126.9325716'},  // 고고쓰
		 {location : '설빙' , lat : '36.7821538' , lng : '127.0027700'},  // 설빙 온양온천점
		 {location : '베스킨라빈스' , lat : '36.7838100' , lng : '127.0165490'},  // 베스킨라빈스 아산모종점
		 {location : '금커피별빙수' , lat : '36.7731099' , lng : '127.0088442'},  // 금커피별빙수 아산용화점
		 {location : '금커피별빙수' , lat : '36.7708590' , lng : '127.0656850'},  // 금커피별빙수 배방점
		 {location : '설빙' , lat : '36.7985465' , lng : '127.0588115'},  // 설빙 탕정점
		 {location : '설빙' , lat : '36.7890480'  , lng : '127.1278200'},  // 설빙 충남천안신방점
		 {location : '설빙' , lat : '36.7983695' , lng : '127.1184020'},  // 설빙 천안쌍용점
		 {location : '금커피별빙수' , lat : '36.7984900' , lng : '127.1187485'},  // 금커피별빙수 쌍용점
		 {location : '설빙' , lat : '36.8117690'  , lng : '127.1094560'},  // 설빙 천안 불당점
		 {location : '꽃빙' , lat : '36.8162581' , lng : '127.1094160'},  // 꽃빙 천안신불당점
		 {location : '금커피별빙수' , lat : '36.8790530' , lng : '127.1535900'},  // 금커피별빙수 천안직산점
		 {location : '설화' , lat : '36.9162930' , lng : '127.1321560'},  // 설화
		 {location : '금커피별빙수' , lat : '36.7816500' , lng : '127.1512804'},  // 금커피별빙수 청당점
		 {location : '중랑구' , lat : '36.8178065'  , lng : '127.1559542' }   // 설빙 천안신부점
	);
	
	
	
	let markers = new Array(); // 마커 정보를 담는 배열
	let infoWindows = new Array(); // 정보창을 담는 배열
	
	var map = new naver.maps.Map('map', {
        center: new naver.maps.LatLng(37.552758094502494, 126.98732600494576), //지도 시작 지점
        zoom: 15
    });
	
	
	
	
	for (var i = 0; i < areaArr.length; i++) {
		// 지역을 담은 배열의 길이만큼 for문으로 마커와 정보창을 채워주자 !

	    var marker = new naver.maps.Marker({
	        map: map,
	        title: areaArr[i].location, // 지역구 이름 
	        position: new naver.maps.LatLng(areaArr[i].lat , areaArr[i].lng) // 지역구의 위도 경도 넣기 
	    });
	    
	    /* 정보창 */
		 var infoWindow = new naver.maps.InfoWindow({
		     content: '<div style="width:200px;text-align:center;padding:10px;"><b>' + areaArr[i].location + '</b><br> - 네이버 지도 - </div>'
		 }); // 클릭했을 때 띄워줄 정보 HTML 작성
	    
		 markers.push(marker); // 생성한 마커를 배열에 담는다.
		 infoWindows.push(infoWindow); // 생성한 정보창을 배열에 담는다.
	}
    
	 
    function getClickHandler(seq) {
		
            return function(e) {  // 마커를 클릭하는 부분
                var marker = markers[seq], // 클릭한 마커의 시퀀스로 찾는다.
                    infoWindow = infoWindows[seq]; // 클릭한 마커의 시퀀스로 찾는다

                if (infoWindow.getMap()) {
                    infoWindow.close();
                } else {
                    infoWindow.open(map, marker); // 표출
                }
    		}
    	}
    
    for (var i=0, ii=markers.length; i<ii; i++) {
    	console.log(markers[i] , getClickHandler(i));
        naver.maps.Event.addListener(markers[i], 'click', getClickHandler(i)); // 클릭한 마커 핸들러
    }
}

</script>

</html>